</div>
<script>
    function drawpplot() {
        return
        var latitude = table.column('latitude:name').data().toArray()
        var longitude = table.column('longitude:name').data().toArray()
        var type = table.column('city:name').data().toArray()
        var uniquetype = table.column('city:name').data().unique().toArray()

        console.log(latitude)
        console.log(longitude)
        console.log(type)

        var data = [];
        var grouptoid = {}

        uniquetype.forEach(function (element, id) {
            grouptoid[element] = id
            data.push({
                x: [],
                y: [],
                mode: 'markers',
                name: element
            })
        });

        type.forEach(function (element, index) {
            id = grouptoid[element]
            data[id].x.push(latitude[index])
            data[id].y.push(longitude[index])
        });

        var layout = {};

        Plotly.newPlot('graph', data, layout);
    }
    $(document).ready(function () {
        drawpplot()
    });
</script>

</body>

</html>